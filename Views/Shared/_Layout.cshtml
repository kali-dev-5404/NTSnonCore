@{
    var pageTitle = ViewData["Title"] as string ?? "NTS Dashboard";
    var pageHeading = ViewData["PageHeading"] as string ?? "Dashboard";
    var pageSubtitle = ViewData["PageSubtitle"] as string ?? "Overview of your business";
    var currentController = ViewContext.RouteData.Values["controller"]?.ToString();
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>@pageTitle</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- icons and css-->
    <link rel="stylesheet" href="~/images/fa/css/all.min.css" />
    <link rel="stylesheet" href="~/Content/Site.css" />

    <!-- Prefixed Bootstrap -->
    <link href="~/Content/bootstrap-prefixed.min.css" rel="stylesheet" />

</head>

<body>
    <div class="app-layout" id="appLayout">

        <!-- SIDEBAR -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <div class="logo-mark">
                        <img src="~/images/ntsbook_logo.png" alt="Logo" />
                    </div>

                    <button type="button" class="sidebar-expand-btn">
                        <i class="fa-solid fa-angles-right"></i>
                    </button>

                    <div class="logo-text">
                        <span class="logo-title">NTS</span>
                        <span class="logo-subtitle">Control Panel</span>
                    </div>
                </div>

                <button type="button" class="sidebar-collapse-btn">
                    <i class="fa-solid fa-angles-left"></i>
                </button>

                <button type="button" class="sidebar-close-mobile" id="sidebarCloseMobile">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>

            <nav class="sidebar-navbar">
                <ul class="nav-list">

                    <!-- Dashboard -->
                    <li class="nav-item @(currentController == "Dashboard" ? "active" : "")">
                        <a href="@Url.Action("Index", "Dashboard")" class="nav-link">
                            <span class="nav-icon"><i class="fa-solid fa-qrcode"></i></span>
                            <span class="nav-text">Dashboard</span>
                        </a>
                    </li>

                    <!-- Master -->
                    <li class="nav-item has-children @(currentController == "Master" ? "active" : "")">
                        <button class="nav-link nav-toggle">
                            <span class="nav-icon"><i class="fa-solid fa-layer-group"></i></span>
                            <span class="nav-text">Master</span>
                            <span class="nav-caret"><i class="fa-solid fa-chevron-down"></i></span>
                        </button>
                        <ul class="nav-submenu">
                            <li><a class="nav-sublink" href="@Url.Action("Organisation", "Master")">Organisation</a></li>
                            <li><a class="nav-sublink" href="@Url.Action("Branch", "Master")">Branch</a></li>
                            <li><a class="nav-sublink" href="@Url.Action("Location", "Master")">Location</a></li>
                        </ul>
                    </li>

                    <!-- Client -->
                    <li class="nav-item has-children @(currentController == "Client" ? "active" : "")">
                        <button class="nav-link nav-toggle">
                            <span class="nav-icon"><i class="fa-solid fa-users"></i></span>
                            <span class="nav-text">Client</span>
                            <span class="nav-caret"><i class="fa-solid fa-chevron-down"></i></span>
                        </button>
                        <ul class="nav-submenu">
                            <li><a class="nav-sublink" href="@Url.Action("Customer", "Client")">Customer</a></li>
                            <li><a class="nav-sublink" href="@Url.Action("Supplier", "Client")">Supplier</a></li>
                        </ul>
                    </li>

                    <!-- Inventory -->
                    <li class="nav-item @(currentController == "Inventory" ? "active" : "")">
                        <a href="@Url.Action("Index", "Inventory")" class="nav-link">
                            <span class="nav-icon"><i class="fas fa-box"></i></span>
                            <span class="nav-text">Inventory</span>
                        </a>
                    </li>

                    <!-- Estimation -->
                    <li class="nav-item @(currentController == "Estimation" ? "active" : "")">
                        <a href="@Url.Action("Index", "Estimation")" class="nav-link">
                            <span class="nav-icon"><i class="fas fa-calculator"></i></span>
                            <span class="nav-text">Estimation</span>
                        </a>
                    </li>

                    <!-- Daybooks -->
                    <li class="nav-item @(currentController == "DayBooks" ? "active" : "")">
                        <a href="@Url.Action("Index", "DayBooks")" class="nav-link">
                            <span class="nav-icon"><i class="fas fa-note-sticky"></i></span>
                            <span class="nav-text">Daybooks</span>
                        </a>
                    </li>

                    <!-- Delivery -->
                    <li class="nav-item @(currentController == "Delivery" ? "active" : "")">
                        <a href="@Url.Action("Index", "Delivery")" class="nav-link">
                            <span class="nav-icon"><i class="fa-solid fa-truck-fast"></i></span>
                            <span class="nav-text">Delivery</span>
                        </a>
                    </li>

                    <!-- Invoice -->
                    <li class="nav-item @(currentController == "Invoice" ? "active" : "")">
                        <a href="@Url.Action("Index", "Invoice")" class="nav-link">
                            <span class="nav-icon"><i class="fas fa-file-lines"></i></span>
                            <span class="nav-text">Invoice</span>
                        </a>
                    </li>

                    <!-- Returns -->
                    <li class="nav-item @(currentController == "Returns" ? "active" : "")">
                        <a href="@Url.Action("Index", "Returns")" class="nav-link">
                            <span class="nav-icon"><i class="fas fa-rotate-left"></i></span>
                            <span class="nav-text">Returns</span>
                        </a>
                    </li>

                    <!-- Reports -->
                    <li class="nav-item @(currentController == "Reports" ? "active" : "")">
                        <a href="@Url.Action("Index", "Reports")" class="nav-link">
                            <span class="nav-icon"><i class="fas fa-chart-bar"></i></span>
                            <span class="nav-text">Reports</span>
                        </a>
                    </li>

                    <!-- Online Store -->
                    <li class="nav-item @(currentController == "OnlineStore" ? "active" : "")">
                        <a href="@Url.Action("Index", "OnlineStore")" class="nav-link">
                            <span class="nav-icon"><i class="fas fa-cart-shopping"></i></span>
                            <span class="nav-text">Online Store</span>
                        </a>
                    </li>

                     <!-- Milk Shop -->
          <li class="nav-item has-children @(currentController == "MilkShop" ? "active" : "")">
            <button class="nav-link nav-toggle">
              <span class="nav-icon"><i class="fa-solid fa-bottle-water"></i></span>
              <span class="nav-text">Milk Shop</span>
              <span class="nav-caret"><i class='fas fa-chevron-down'></i></span>
            </button>
            <ul class="nav-submenu">
                <li><a class="nav-sublink" href="@Url.Action("DairyList", "MilkShop")">Dairy Shop</a></li>
                <li><a class="nav-sublink" href="@Url.Action("DairyShop", "MilkShop")">Dairy List</a></li>
            </ul>
          </li>

          <!-- Admin -->
          <li class="nav-item has-children">
            <button class="nav-link nav-toggle @(currentController == "Admin" ? "active" : "")">
              <span class="nav-icon"><i class='fas fa-cog'></i></span>
              <span class="nav-text">Admin</span>
              <span class="nav-caret"><i class='fas fa-chevron-down'></i></span>
            </button>
            <ul class="nav-submenu">
                <li><a class="nav-sublink" href="@Url.Action("CreateUser", "Admin")">Create User</a></li>
                <li><a class="nav-sublink" href="@Url.Action("RoleAccess", "Admin")">User List</a></li>
                <li><a class="nav-sublink" href="@Url.Action("UserAccess", "Admin")">Role Access</a></li>
                <li><a class="nav-sublink" href="@Url.Action("UserList", "Admin")">User Access</a></li>
            </ul>
          </li>

                    <!-- Tractor -->
                    <li class="nav-item has-children @(currentController == "Tractor" ? "active" : "")">
                        <button class="nav-link nav-toggle">
                        <span class="nav-icon"><i class='fas fa-tractor'></i></span>
                        <span class="nav-text">Tractor</span>
                        <span class="nav-caret"><i class='fas fa-chevron-down'></i></span>
                        </button>
                        <ul class="nav-submenu">
                            <li><a class="nav-sublink" href="@Url.Action("Index", "Tractor")">tractor</a></li>
                            <li><a class="nav-sublink" href="@Url.Action("Rent", "Tractor")">Tractor Rent List</a></li>
                            <li><a class="nav-sublink" href="@Url.Action("RentByCustomer", "Tractor")">Rent List By Customer</a></li>
                        </ul>
                    </li>

                    <!-- Membership -->
                    <li class="nav-item @(currentController == "Membership" ? "active" : "")">
                        <a href="@Url.Action("Index", "Membership")" class="nav-link">
                            <span class="nav-icon"><i class="fas fa-id-card"></i></span>
                            <span class="nav-text">Membership</span>
                        </a>
                    </li>

                </ul>
            </nav>
        </aside>

        <!-- TOP NAVBAR -->
        <header class="app-navbar">
            <button type="button" class="icon-button sidebar-toggle" id="sidebarToggle">
                <i class="fa-solid fa-bars"></i>
            </button>

            <div class="app-navbar-title">
                <h1>@pageHeading</h1>
                <p>@pageSubtitle</p>
            </div>

            <div class="app-navbar-actions">
                <div class="navbar-dropdown">
                    <button type="button" class="icon-button dropdown-toggle" id="userDropdown">
                        <i class="fa-solid fa-user"></i>
                    </button>

                    <div class="dropdown-menu" id="userDropdownMenu">
                        <a class="dropdown-item" href="#"><i class="fa-solid fa-user"></i>Profile</a>
                        <a class="dropdown-item" href="#"><i class="fa-solid fa-gear"></i>Settings</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="@Url.Action("Index", "Home")"><i class="fa-solid fa-right-from-bracket"></i>Logout</a>
                    </div>
                </div>
            </div>
        </header>

        <!-- MAIN CONTENT -->
        <main class="sidebar-main" id="mainContent">
            <div class="nts-bootstrap">
            @RenderBody()
            </div>
        </main>

        <!-- FOOTER -->
        <footer class="app-footer">
            <span>© 2025 NTS BOOK. All rights reserved.</span>
        </footer>

    </div>
<!-- Sidebar flyout for collapsed mode -->
    <div class="sidebar-flyout" id="sidebarFlyout">
        <div class="sidebar-flyout-inner">
            <div class="flyout-header" id="sidebarFlyoutTitle"></div>
            <ul class="flyout-list" id="sidebarFlyoutList"></ul>
        </div>
    </div>
    <!-- JS -->
    <script src="~/Scripts/main.js"></script>
    @RenderSection("Scripts", required: false)



</body>
</html>
